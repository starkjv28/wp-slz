!function(s,t){jQuery.fn[t]=function(s){return s?this.bind("resize",function(a,i,e){var n;return function(){var s=this,t=arguments;n?clearTimeout(n):e&&a.apply(s,t),n=setTimeout(function(){e||a.apply(s,t),n=null},i||100)}}(s)):this.trigger(t)}}(jQuery,"ss_smartresize"),function(i){i.fn.ssIsOnScreen=function(){var s=i(window),t={top:s.scrollTop(),left:s.scrollLeft()};t.right=t.left+s.width(),t.bottom=t.top+s.height();var a=this.offset();return a.right=a.left+this.outerWidth(),a.bottom=a.top+this.outerHeight(),!(t.right<a.left||t.left>a.right||t.bottom<a.top||t.top>a.bottom)},i.throttle=ss_throttle=function(e,n,o,r){var c,l=0;function s(){var s=this,t=+new Date-l,a=arguments;function i(){l=+new Date,o.apply(s,a)}r&&!c&&i(),c&&clearTimeout(c),void 0===r&&e<t?i():!0!==n&&(c=setTimeout(r?function(){c=void 0}:i,void 0===r?e-t:e))}return"boolean"!=typeof n&&(r=o,o=n,n=void 0),i.guid&&(s.guid=o.guid=o.guid||i.guid++),s}}(jQuery),function(r){var o=[],c={init:function(){c.abortAjaX(),r(document).ready(c.ready),r(window).on("load",c.load),r(window).ss_smartresize(c.resize)},ready:function(){c.onMediaShareController(),c.calcShareBarHeight(),c.socialShareButtons(),c.revealLabel(),c.clickToTweet(),c.stickyBar(),c.stickyAfterScroll()},load:function(){c.entranceAnimation(),setTimeout(function(){c.updateShareCounts(),c.updateFollowCountsAPI(),c.cacheShortenedURLs(),c.updateCTTcount(),c.onMediaShareController()},250)},resize:function(){c.calcShareBarHeight(),c.stickyAfterScroll(),c.stickyBar(),c.onMediaShareController()},abortAjaX:function(){r(document).ajaxComplete(function(s,t,a){o=r.grep(o,function(s){return s!=t})});var t=window.onbeforeunload;window.onbeforeunload=function(){var s=t?t():void 0;return null==s&&r.each(o,function(s,t){t.abort()}),s}},entranceAnimation:function(){r(".ss-animate-entrance").length&&r(".ss-animate-entrance").addClass("ss-animated")},calcShareBarHeight:function(){var s=r("#ss-floating-bar");if(s.length){var t=0;if(void 0!==s.attr("data-offset")){var a=parseInt(s.attr("data-offset"));isNaN(a)||(t+=a)}var i=s.innerHeight(),e=r(window).height();s.hasClass("ss-right-top-sidebar")||s.hasClass("ss-left-top-sidebar")||(s.hasClass("ss-left-bottom-sidebar")||s.hasClass("ss-right-bottom-sidebar")?t+=e-i:t+=e/2-i/2),t<0&&(t=0),e<i?s.css({top:"0",bottom:"initial"}):e<t+i?s.css({top:"initial",bottom:"0"}):s.css({top:t+"px",bottom:"initial"})}},revealLabel:function(){var s,t,a,i,e,n,o;r(".ss-reveal-label").length&&(r(".ss-reveal-label").on("mouseenter",".ss-social-icons-container > li > a",function(){s=r(this),t=s.find(".ss-reveal-label-wrap"),a=t.find(".ss-network-label"),i=t.find(".ss-network-count"),n=s.outerWidth(),(a.length||i.length)&&(e=a.outerWidth(!0)+i.outerWidth(!0),e=parseInt(e),o=1+e/n,s.parent().css({flex:o+" 1 0%"}),t.css("padding-right",e+"px"))}),r(".ss-reveal-label").on("mouseleave",".ss-social-icons-container > li > a",function(){s=r(this),(t=s.find(".ss-reveal-label-wrap")).css("padding-right",0),s.parent().removeAttr("style")}))},socialShareButtons:function(){if(!(r(".ss-social-icons-container").not("#ss-all-networks-popup .ss-social-icons-container").length<=0)){var n,o=r("#ss-copy-popup");r("body").on("click",".ss-social-icons-container > li > a, .ss-popup-networks .ss-popup-network > a, .ss-on-media-container ul.ss-social-icons-container > li > div",function(s){if(n=r(this),c.clickTracking(n),!n.hasClass("ss-viber-color")&&!n.hasClass("ss-sms-color"))if(s.preventDefault(),n.hasClass("ss-print-color"))window.print();else if(n.hasClass("ss-copy-color")){o.data("copy");o.addClass("ss-copy-visible"),o.find(".ss-copy-action-field").select(),o.hasClass("ss-visible")||(c.showSharePopup("#ss-copy-popup"),o.find(".ss-copy-action-field").select())}else if(n.hasClass("ss-share-all"))c.showSharePopup("#ss-all-networks-popup");else if(n.hasClass("ss-pinterest-color")&&(n.data("ss-ss-link")&&"#"===n.data("ss-ss-link")||!n.data("ss-ss-link")&&n.attr("href")&&"#"===n.attr("href"))){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("charset","UTF-8"),t.setAttribute("src","https://assets.pinterest.com/js/pinmarklet.js"),document.body.appendChild(t)}else if(n.hasClass("ss-heart-color"));else{var a=550,i=448;"twitter"==n.data("ss-ss-network-id")&&(a=739,i=253);var e=n.data("ss-ss-link");c.popupWindow(e,a,i)}n.hasClass("ss-share-all")||c.incrementShareClickCount(n)}),r("#ss-share-hub > a").click(function(s){s.preventDefault()}),r("#ss-floating-bar").on("click",".ss-hide-floating-bar",function(s){s.preventDefault(),r("#ss-floating-bar").toggleClass("ss-hidden")}),r(".ss-close-modal").click(function(s){s.preventDefault(),c.hideSharePopup()}),o.on("click",".ss-copy-action .ss-button",function(s){s.preventDefault();var t=r(this);o.find(".ss-copy-action-field").select();try{document.execCommand("copy"),t.addClass("ss-visible-tooltip"),setTimeout(function(){t.removeClass("ss-visible-tooltip")},1500)}catch(s){alert("Press Ctrl/Cmd+C to copy")}})}},clickTracking:function(s){void 0!==socialsnap_script.click_tracking&&1==socialsnap_script.click_tracking&&"function"==typeof ga&&s.attr("data-ss-ss-network-id")&&ga("send","event","socialsnap_share","socialsnap_"+s.attr("data-ss-ss-network-id")+"_share")},popupWindow:function(s,t,a){var i=null!=window.screenLeft?window.screenLeft:screen.left,e=null!=window.screenTop?window.screenTop:screen.top,n=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+i,o=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-a/2+e,r=window.open(s,"Please wait...","scrollbars=1,status=0,menubar=0,personalbar=0,location=1,width="+t+", height="+a+", top="+o+", left="+n);window.focus&&r.focus()},showSharePopup:function(s){var t=r(s);t.addClass("ss-visible"),setTimeout(function(){t.addClass("ss-animate-popup")},10),r("body").on("keyup",c.escHideSharePopup)},hideSharePopup:function(){var s=r(".ss-popup-overlay.ss-visible");s.addClass("ss-hide-popup"),setTimeout(function(){s.addClass("ss-remove-visible"),setTimeout(function(){s.removeClass("ss-remove-visible ss-hide-popup ss-visible ss-animate-popup ss-copy-visible"),s.find(".ss-popup-heading > span").html(s.data("share"))},400)},250),r("body").off("keyup",c.escHideSharePopup)},escHideSharePopup:function(s){27==s.keyCode&&c.hideSharePopup()},incrementShareClickCount:function(a){if(a.hasClass("ss-heart-color")){if(a.hasClass("ss-already-liked"))return;var s=a.data("ss-ss-post-id");a.addClass("ss-heart-pulse-animation"),r(".ss-heart-color[data-ss-ss-post-id="+s+"]").addClass("ss-already-liked")}var i={url:window.location.href,network:a.data("ss-ss-network-id"),post_id:a.data("ss-ss-post-id"),location:a.data("ss-ss-location"),permalink:a.data("ss-ss-permalink")},t={action:"ss_social_share_clicks",ss_click_data:JSON.stringify(i),_ajax_nonce:socialsnap_script.nonce},e=r.post(socialsnap_script.ajaxurl,t,function(s){if(s.success){if(void 0!==a.data("ss-ss-network-id")){var t='[data-ss-ss-network-id="'+a.data("ss-ss-network-id")+'"][data-ss-ss-post-id="'+i.post_id+'"]';a.data("has-api")||t.length&&(void 0!==s.data&&void 0!==s.data.share_count?r(t).find(".ss-network-count").html(s.data.share_count):r(t).find(".ss-network-count").html(parseInt(r(t).find(".ss-network-count").html(),10)+1))}c.refreshTotalShares(a.data("ss-ss-post-id"))}});o.push(e)},updateCTTcount:function(){r(".ss-ctt-wrapper").on("click",".ss-ctt-tweet, .ss-ctt-link",function(){var s={post_id:r(this).parent().data("ss-post-id"),url:r(this).attr("href")},t={action:"ss_ctt_clicked",ss_click_data:JSON.stringify(s),_ajax_nonce:socialsnap_script.nonce},a=r.post(socialsnap_script.ajaxurl,t,function(s){});o.push(a)})},clickToTweet:function(){r(".ss-ctt-wrapper").on("click","a",function(s){s.preventDefault(),c.popupWindow(r(this).attr("href"),739,253)})},refreshTotalShares:function(t){var s={url:window.location.href,post_id:t},a={action:"ss_social_share_total",ss_data:JSON.stringify(s),_ajax_nonce:socialsnap_script.nonce},i=r.post(socialsnap_script.ajaxurl,a,function(s){if(s.success){if(void 0===s.data||void 0===s.data.total_count)return;r('.ss-total-shares[data-ss-ss-post-id="'+t+'"] span:first-child').length&&r('.ss-total-shares[data-ss-ss-post-id="'+t+'"] span:first-child').html(s.data.total_count)}});o.push(i)},updateShareCounts:function(){r(".ss-social-icons-container").not("#ss-all-networks-popup .ss-social-icons-container").length<=0||"undefined"!=typeof SocialSnapShareCacheExpired&&1==SocialSnapShareCacheExpired&&c.updateShareCountsAPI()},updateShareCountsAPI:function(s){if("undefined"!=typeof SocialSnapShareCacheExpired&&1==SocialSnapShareCacheExpired){var t=socialsnap_script.post_id;if(t){var a={url:window.location.href,post_id:t};"object"==jQuery.type(s)&&r.extend(a,s);var i={action:"ss_social_share_api_counts",socialsnap_data:JSON.stringify(a),_ajax_nonce:socialsnap_script.nonce},e=r.post(socialsnap_script.ajaxurl,i,function(s){if(s.success){for(var t in s.data.result)r('.ss-social-icons-container [data-ss-ss-network-id="'+t+'"][data-ss-ss-post-id="'+a.post_id+'"] .ss-network-count').html(s.data.result[t]);c.refreshTotalShares(a.post_id)}});o.push(e)}}},updateFollowCountsAPI:function(){if("undefined"!=typeof socialsnap_follow_counts){var s=socialsnap_follow_counts.networks,e=socialsnap_follow_counts.authorized,n=socialsnap_follow_counts.configured_networks,o=socialsnap_follow_counts.security;r.each(s,function(s,t){var a={network:t,authorized:e,configured:n},i=r(".ss-follow-column[data-ss-sf-network-id="+t+"] .ss-follow-network-count-number");c.updateFollowCounts("ss_sf_counts",a,i,o)})}},updateFollowCounts:function(s,t,a,i){t.network;var e={action:s,sf_networks:JSON.stringify(t),security:i},n=r.post(socialsnap_script.ajaxurl,e,function(s){s.success&&s.data.count&&a.html(s.data.count)});o.push(n)},cacheShortenedURLs:function(){if("undefined"!=typeof SocialSnapUncachedBitlyLinks&&"undefined"!=typeof SocialSnapUncachedBitlySecurity){var s={action:"ss_cache_links",ss_ls_arr:SocialSnapUncachedBitlyLinks,security:SocialSnapUncachedBitlySecurity},t=r.post(socialsnap_script.ajaxurl,s,function(s){s.success});o.push(t)}},onMediaShareController:function(){var a,i,e=parseInt(socialsnap_script.on_media_width),n=parseInt(socialsnap_script.on_media_height);r(".ss-on-media-container").each(function(s,t){a=r(this),i=a.find("img"),a.find(".ss-on-media-wrapper").css({display:"block"}),"inline"==i.css("display")&&a.css("display","inline"),(i.outerHeight()<n||i.outerWidth()<e||i.hasClass("skip-on-media"))&&a.find(".ss-on-media-wrapper").css({display:"none"})})},stickyAfterScroll:function(){if(r("#ss-sticky-bar").length&&!r("#ss-sticky-bar").hasClass("ss-sync-inline")&&0!=r("#ss-sticky-bar").data("afterscroll")&&r("#ss-sticky-bar").data("afterscroll")){function s(){t=r(window).scrollTop(),a<t?(r("#ss-sticky-bar").removeClass("ss-initially-hidden"),setTimeout(function(){r("#ss-sticky-bar").addClass("ss-animated ss-visible")},70)):r("#ss-sticky-bar").removeClass("ss-animated ss-visible")}var t=0,a=parseInt(r("#ss-sticky-bar").data("afterscroll"));r(window).scroll(r.throttle(250,s)),s()}},stickyBar:function(){if(r("#ss-sticky-bar").length&&r(".ss-inline-share-wrapper").length&&r("#ss-sticky-bar").hasClass("ss-sync-inline")){var s,t,a=[],i=[],e=r(window).width(),n=!1;if(r(".ss-inline-share-wrapper").each(function(){if("ss-sticky-bar"===(s=r(this)).parent().attr("id"))return r(this).addClass("ss-sticky-bar-as-inline"),!0;t=s.offset(),a.push(t.left),i.push(s.outerWidth())}),a=r.unique(a),i=r.unique(i),1!=a.length||1!=i.length)return r("#ss-sticky-bar").find(".ss-inline-share-wrapper").removeAttr("style"),!1;700<e?r("#ss-sticky-bar").find(".ss-inline-share-wrapper").css({width:i[0],left:a[0]+"px",padding:"0px"}):r("#ss-sticky-bar").find(".ss-inline-share-wrapper").removeAttr("style");function o(){if(e<=700)return r("#ss-sticky-bar").addClass("ss-animated"),!1;n=!1,r(".ss-inline-share-wrapper").not(".ss-sticky-bar-as-inline").each(function(){r(this).find(".ss-social-icons-container").ssIsOnScreen()&&(n=!0)}),n?r("#ss-sticky-bar").removeClass("ss-animated").addClass("ss-hidden"):r("#ss-sticky-bar").addClass("ss-animated").removeClass("ss-hidden")}r(window).scroll(r.throttle(250,o)),o()}}};c.init(),window.socialsnapfields=c}(jQuery);